const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DpWuYLF-.js","assets/vendor-CWKLx11g.css"])))=>i.map(i=>d[i]);
import{a as $,S as q}from"./assets/vendor-DpWuYLF-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const A="https://pixabay.com/api/",x="47343859-71412f3a0c5519c6640fc8f75";async function v(r,e=1,a=30){const s=`${A}?key=${x}&q=${encodeURIComponent(r)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${a}&page=${e}`;try{return(await $.get(s)).data}catch{throw new Error("Error fetching images")}}const O="modulepreload",R=function(r){return"/goit-js-hw-12/"+r},g={},L=function(e,a,s){let t=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));t=Promise.allSettled(a.map(l=>{if(l=R(l),l in g)return;g[l]=!0;const m=l.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${_}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":O,m||(c.as="script"),c.crossOrigin="",c.href=l,i&&c.setAttribute("nonce",i),document.head.appendChild(c),m)return new Promise((P,S)=>{c.addEventListener("load",P),c.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return t.then(o=>{for(const i of o||[])i.status==="rejected"&&n(i.reason);return e().catch(n)})},C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cg%20fill='%23FAFAFB'%20clip-path='url(%23a)'%3e%3cpath%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20d='M6.969%206.97a.75.75%200%200%201%201.062%200L12%2010.94l3.969-3.97a.75.75%200%201%201%201.062%201.061l-3.97%203.97%203.97%203.968a.753.753%200%200%201%200%201.062.749.749%200%200%201-1.062%200L12%2013.061l-3.969%203.97a.75.75%200%200%201-1.225-.243.751.751%200%200%201%20.163-.819L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M0%200h24v24H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";let y;function w(r){const e=document.querySelector(".gallery"),a=r.map(s=>`
    <a href="${s.largeImageURL}" class="gallery__item">
      <img src="${s.webformatURL}" alt="${s.tags}" loading="lazy" class="gallery__image" />
      <div class="info">
        <p><b>Likes</b> ${s.likes}</p>
        <p><b>Views</b> ${s.views}</p>
        <p><b>Comments</b> ${s.comments}</p>
        <p><b>Downloads</b> ${s.downloads}</p>
      </div>
    </a>
  `).join("");e.insertAdjacentHTML("beforeend",a),y?y.refresh():y=new q(".gallery a",{captionsData:"alt",captionDelay:250})}function T(){document.querySelector(".gallery").innerHTML=""}function b(){document.querySelector(".loader").classList.remove("hidden")}function E(){document.querySelector(".loader").classList.add("hidden")}function d(r){const e=document.querySelector(".load-more");r?e.classList.remove("hidden"):e.classList.add("hidden")}function f(r){L(()=>import("./assets/vendor-DpWuYLF-.js").then(e=>e.b),__vite__mapDeps([0,1])).then(()=>{L(async()=>{const{default:e}=await import("./assets/vendor-DpWuYLF-.js").then(a=>a.i);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{e.error({iconUrl:C,title:"",message:r,position:"topRight",messageColor:"#ffffff",backgroundColor:"#ef4040",iconColor:"#ffffff",maxWidth:"432px",iconText:"16px"})})})}const U=document.querySelector(".search-form"),I=document.querySelector('input[name="searchQuery"]'),M=document.querySelector(".load-more");let p="",u=1;const h=30;U.addEventListener("submit",async r=>{if(r.preventDefault(),p=I.value.trim(),!p){f("Please enter a search term!");return}u=1,T(),d(!1),b();try{const e=await v(p,u,h);e.hits.length===0?f("Sorry, no images found. Try a different query."):(w(e.hits),d(e.hits.length===h))}catch{f("Please try again.")}finally{E()}});M.addEventListener("click",async()=>{u+=1,b(),d(!1);try{const r=await v(p,u,h);w(r.hits),r.hits.length<h||r.totalHits<=u*h?(d(!1),f("We're sorry, but you've reached the end of search results.")):d(!0)}catch{f("Please try again.")}finally{E()}});
//# sourceMappingURL=index.js.map
