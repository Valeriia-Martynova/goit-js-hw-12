const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DpWuYLF-.js","assets/vendor-CWKLx11g.css"])))=>i.map(i=>d[i]);
import{a as A,S as C}from"./assets/vendor-DpWuYLF-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const x="https://pixabay.com/api/",O="47343859-71412f3a0c5519c6640fc8f75";async function w(o,t=1,s=15){const c=`${x}?key=${O}&q=${encodeURIComponent(o)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${s}&page=${t}`;try{return(await A.get(c)).data}catch{throw new Error("Error fetching images")}}const R="modulepreload",M=function(o){return"/goit-js-hw-12/"+o},g={},L=function(t,s,c){let e=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));e=Promise.allSettled(s.map(i=>{if(i=M(i),i in g)return;g[i]=!0;const m=i.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${_}`))return;const l=document.createElement("link");if(l.rel=m?"stylesheet":R,m||(l.as="script"),l.crossOrigin="",l.href=i,a&&l.setAttribute("nonce",a),document.head.appendChild(l),m)return new Promise((q,$)=>{l.addEventListener("load",q),l.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${i}`)))})}))}function r(n){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n}return e.then(n=>{for(const a of n||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})},T="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cg%20fill='%23FAFAFB'%20clip-path='url(%23a)'%3e%3cpath%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20d='M6.969%206.97a.75.75%200%200%201%201.062%200L12%2010.94l3.969-3.97a.75.75%200%201%201%201.062%201.061l-3.97%203.97%203.97%203.968a.753.753%200%200%201%200%201.062.749.749%200%200%201-1.062%200L12%2013.061l-3.969%203.97a.75.75%200%200%201-1.225-.243.751.751%200%200%201%20.163-.819L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M0%200h24v24H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function b(o){const t=document.querySelector(".gallery"),s=o.map(e=>`
    <a href="${e.largeImageURL}" class="gallery__item">
      <img src="${e.webformatURL}" alt="${e.tags}" loading="lazy" class="gallery__image" />
      <div class="info">
        <p><b>Likes</b> ${e.likes}</p>
        <p><b>Views</b> ${e.views}</p>
        <p><b>Comments</b> ${e.comments}</p>
        <p><b>Downloads</b> ${e.downloads}</p>
      </div>
    </a>
  `).join("");t.insertAdjacentHTML("beforeend",s);const c=Array.from(t.querySelectorAll("img")).map(e=>new Promise(r=>{e.onload=r,e.onerror=r}));Promise.all(c).then(()=>{t.classList.add("visible")})}function U(){document.querySelector(".gallery").innerHTML=""}function E(){document.querySelector(".loader").classList.remove("hidden")}function P(){document.querySelector(".loader").classList.add("hidden")}function d(o){const t=document.querySelector(".load-more");o?t.classList.remove("hidden"):t.classList.add("hidden")}function u(o){L(()=>import("./assets/vendor-DpWuYLF-.js").then(t=>t.b),__vite__mapDeps([0,1])).then(()=>{L(async()=>{const{default:t}=await import("./assets/vendor-DpWuYLF-.js").then(s=>s.i);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{t.error({iconUrl:T,title:"",message:o,position:"topRight",messageColor:"#ffffff",backgroundColor:"#ef4040",iconColor:"#ffffff",maxWidth:"432px",iconText:"16px"})})})}const S=document.querySelector(".search-form"),v=document.querySelector('input[name="searchQuery"]'),B=document.querySelector(".load-more"),D=document.querySelector(".gallery");let p="",f=1;const h=15;let y;document.addEventListener("DOMContentLoaded",()=>{y=new C(".gallery a",{captionsData:"alt",captionDelay:250})});S.addEventListener("submit",async o=>{if(o.preventDefault(),p=v.value.trim(),!p){u("Please enter a search term!");return}f=1,U(),d(!1),E(),v.value="";try{const t=await w(p,f,h);t.hits.length===0?u("Sorry, no images found. Try a different query."):(b(t.hits),d(t.hits.length===h),y.refresh())}catch{u("Please try again.")}finally{P()}});B.addEventListener("click",async()=>{var o;f+=1,E(),d(!1);try{const t=await w(p,f,h);b(t.hits);const s=((o=D.firstElementChild)==null?void 0:o.getBoundingClientRect().height)||0;s&&window.scrollBy({top:s*2,behavior:"smooth"}),t.hits.length<h||t.totalHits<=f*h?(d(!1),u("We're sorry, but you've reached the end of search results.")):d(!0),y.refresh()}catch{u("Please try again.")}finally{P(),S.reset()}});
//# sourceMappingURL=index.js.map
